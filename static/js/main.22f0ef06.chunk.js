(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{30:function(e,t,a){e.exports=a(65)},53:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),o=a.n(c),i=a(10),s=a(1),l=a(3),u=a.n(l),m=a(9),p=a(4),d=a(13),f=a.n(d),v=(a(53),function(e){var t=e.games;return e.loading?r.a.createElement("h2",null,"Loading..."):r.a.createElement("div",{className:"games"},t.map((function(e){return r.a.createElement("div",{className:"game-item",key:e.id},r.a.createElement(i.b,{to:"/game/".concat(e.id)},r.a.createElement("img",{src:e.cover.url.replace("t_thumb","t_cover_big"),alt:""})))})))}),g=function(e){for(var t=e.gamesPerPage,a=e.totalGames,n=e.paginate,c=[],o=1;o<=Math.ceil(a/t);o++)c.push(o);return r.a.createElement("div",null,r.a.createElement("ul",{className:"pagination"},c.map((function(e){return r.a.createElement("li",{key:e,className:"page-item"},r.a.createElement("button",{className:"page-link",onClick:function(){return n(e)}},e))}))))},E=(a(59),function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),i=Object(p.a)(o,2),s=i[0],l=i[1],d=Object(n.useState)(1),E=Object(p.a)(d,2),h=E[0],_=E[1],O=Object(n.useState)(8),b=Object(p.a)(O,1)[0],S=Object(n.useState)([115,114283,1443,76816,40477,26845,24220,7323,37777,1164,9740,9498,11169,2449,359,384,389,1121,19441,1520,19131,23441,115989,23865]),T=Object(p.a)(S,1)[0];Object(n.useEffect)((function(){var e=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cors-anywhere.herokuapp.com/https://id.twitch.tv/oauth2/token?client_id=".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/game_list_app_igdb_react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_CLIENT_ID,"&client_secret=").concat(Object({NODE_ENV:"production",PUBLIC_URL:"/game_list_app_igdb_react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_CLIENT_SECRET,"&grant_type=client_credentials"),{method:"POST"}).then(function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:a=e.sent,localStorage.setItem("accessToken",JSON.stringify(a.access_token));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null===(t=localStorage.getItem("accessToken"))||void 0===t?void 0:t.slice(1,-1),e.next=3,f()({url:"https://cors-anywhere.herokuapp.com/https://api.igdb.com/v4/games",method:"POST",headers:{"Client-ID":"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/game_list_app_igdb_react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_CLIENT_ID),Accept:"application/json",Authorization:"Bearer ".concat(a)},data:"fields name,cover.url,summary,platforms.name,genres.name;limit 50;where id=(".concat(T,");")});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=localStorage.getItem("gameList");e?c(JSON.parse(e)):t().then(function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,t;case 3:a=e.sent,c(a),l(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};localStorage.getItem("accessToken")?a():e().then((function(){a()}))}),[T]);var j=h*b,N=j-b,C=null===a||void 0===a?void 0:a.slice(N,j);return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"home-container"},r.a.createElement(v,{games:C,loading:s}),r.a.createElement("div",{className:"pagination"},r.a.createElement(g,{gamesPerPage:b,totalGames:a.length,paginate:function(e){_(e)}}))))}),h=a(17),_=(a(60),function(e){var t=e.match,a=Object(n.useState)([]),c=Object(p.a)(a,2),o=c[0],i=c[1],s=Object(n.useState)(!1),l=Object(p.a)(s,2),d=l[0],v=l[1];Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null===(a=localStorage.getItem("accessToken"))||void 0===a?void 0:a.slice(1,-1),e.next=3,f()({url:"https://cors-anywhere.herokuapp.com/https://api.igdb.com/v4/games/",method:"POST",headers:{"Client-ID":"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/game_list_app_igdb_react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_CLIENT_ID),Accept:"application/json",Authorization:"Bearer ".concat(n)},data:"fields name,cover.url,summary,platforms.name,genres.name;where id=(".concat(t.params.id,");")});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().then(function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,t;case 3:a=e.sent,i(a),v(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t.params.id]);var g=function(e){var t=[];return e.map((function(e){return t.push(e.name)})),t.toString().replace(/,/g,", ")},E=function(){var e=localStorage.getItem("gameList");if(e){var t=JSON.parse(e),a=-1;t.forEach((function(e,t){e.id===o[0].id&&(a=t)})),-1===a&&(t.push(Object(h.a)({},o[0])),localStorage.setItem("gameList",JSON.stringify(t)))}else{var n=[];n.push(Object(h.a)({},o[0])),localStorage.setItem("gameList",JSON.stringify(n))}};return d?r.a.createElement("h2",null,"Loading..."):r.a.createElement("div",null,o.map((function(e){return r.a.createElement("div",{className:"game-container",key:e.id},r.a.createElement("div",{className:"game-image"},r.a.createElement("img",{src:e.cover.url.replace("t_thumb","t_cover_big"),alt:""})),r.a.createElement("div",{className:"game-descriptions"},r.a.createElement("div",{className:"game-name"},r.a.createElement("h3",null,e.name)),r.a.createElement("div",{className:"game-genres"},r.a.createElement("b",null,"Genres: "),g(e.genres)),r.a.createElement("div",{className:"game-platforms"},r.a.createElement("b",null,"Platforms: "),g(e.platforms)),r.a.createElement("div",{className:"game-summary"},r.a.createElement("b",null,"Summary: "),r.a.createElement("p",null,e.summary)),r.a.createElement("button",{className:"game-add-button",onClick:E},"Add")))})))}),O=(a(61),function(e){var t=e.games;if(e.loading)return r.a.createElement("h2",null,"Loading...");return r.a.createElement("div",null,t.map((function(e){return r.a.createElement("div",{className:"searched-games",key:e.id},r.a.createElement("div",{className:"searched-game-image"},r.a.createElement("img",{src:e.cover.url.replace("t_thumb","t_cover_small"),alt:""})),r.a.createElement("div",{className:"searched-game-description"},r.a.createElement(i.b,{to:"/game/".concat(e.id)},e.name),r.a.createElement("p",null,function(e){var t=[];return e.map((function(e){return t.push(e.name)})),t.toString().replace(/,/g,", ")}(e.platforms))))})))}),b=(a(62),function(e){var t=e.match,a=Object(n.useState)([]),c=Object(p.a)(a,2),o=c[0],i=c[1],s=Object(n.useState)(!1),l=Object(p.a)(s,2),d=l[0],f=l[1],v=Object(n.useState)(1),E=Object(p.a)(v,2),h=E[0],_=E[1],b=Object(n.useState)(6),S=Object(p.a)(b,1)[0];Object(n.useEffect)((function(){var e,a=null===(e=localStorage.getItem("accessToken"))||void 0===e?void 0:e.slice(1,-1);fetch("https://cors-anywhere.herokuapp.com/https://api.igdb.com/v4/games/?search=".concat(t.params.query,"&fields=name,cover.url,summary,platforms.name,genres.name&limit=50"),{method:"POST",headers:{"Client-ID":"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/game_list_app_igdb_react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_CLIENT_ID),Accept:"application/json",Authorization:"Bearer ".concat(a)}}).then(function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,t.json();case 3:a=e.sent,n=[],a.forEach((function(e){e.cover&&e.genres&&e.platforms&&e.summary&&n.push(e)})),n.sort((function(e,t){return e.name.localeCompare(t.name)})),i(n),f(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.error(e)}))}),[t.params.query]);var T=h*S,j=T-S,N=null===o||void 0===o?void 0:o.slice(j,T);return r.a.createElement("div",{className:"search-container"},r.a.createElement(O,{games:N,loading:d}),r.a.createElement("div",{className:"pagination"},r.a.createElement(g,{gamesPerPage:S,totalGames:o.length,paginate:function(e){_(e)}})))}),S=(a(63),function(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],c=t[1],o=Object(s.f)();return r.a.createElement("input",{type:"text",className:"searchbox",placeholder:"Search your favorite game!",onChange:function(e){return c(e.target.value)},onKeyDown:function(e){return function(e){"Enter"===e.key&&(e.preventDefault(),o.push("/search/".concat(a)),c(""))}(e)}})}),T=(a(64),function(){return r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.b,{className:"home",to:"/"},"Game List App")),r.a.createElement("li",{className:"search-box"},r.a.createElement(S,null))))}),j=function(){return r.a.createElement(i.a,{basename:"/"},r.a.createElement("div",null,r.a.createElement(T,null),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:E}),r.a.createElement(s.a,{exact:!0,path:"/game/:id",component:_}),r.a.createElement(s.a,{exact:!0,path:"/search/:query",component:b}))))};var N=function(){return r.a.createElement(j,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.22f0ef06.chunk.js.map